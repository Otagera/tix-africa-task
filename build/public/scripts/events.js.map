{"version":3,"file":"events.js","sourceRoot":"","sources":["../../../src/public/scripts/events.ts"],"names":[],"mappings":"AAAA;IAAA;QAAA,iBAqCC;QApCA,eAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;QAC5D,SAAI,GAAG;YACN,KAAI,CAAC,aAAa,EAAE,CAAC;QACtB,CAAC,CAAA;QACD,kBAAa,GAAG;YAChB,KAAI,CAAC,UAAU,IAAI,KAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,SAAS;gBACnD,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,CAAC;oBACrC,KAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC5D,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QACJ,CAAC,CAAA;QACD,cAAS,GAAG,UAAC,OAAgB,EAAE,GAAW;YACzC,IAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACrD,WAAW,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC3C,WAAW,CAAC,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;YACpD,WAAW,CAAC,YAAY,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;YAC5D,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YACvC,QAAQ,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC,SAAS,GAAG,OAAO,CAAA,CAAC,CAAC,SAAS,CAAA,CAAC,CAAC,SAAS,CAAC;YACxF,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC,SAAS,GAAG,GAAG,CAAC;YAC7D,WAAW,CAAC,KAAK,EAAE,CAAC;YACpB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QACxC,CAAC,CAAA;QAED,uBAAkB,GAAG,UAAC,EAAU;YAC/B,CAAC,CAAC,IAAI,CAAC,uBAAqB,EAAI,EAAE;gBACjC,MAAM,EAAE,QAAQ;aAChB,CAAC;iBACA,IAAI,CAAC,UAAA,QAAQ;gBACb,IAAG,QAAQ,CAAC,UAAU,KAAK,GAAG,EAAC;oBAC9B,KAAI,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC5C;YACF,CAAC,CAAC,CAAC,IAAI,CAAC,UAAA,GAAG;gBACV,KAAI,CAAC,SAAS,CAAC,KAAK,EAAE,sBAAsB,CAAC,CAAC;gBAC9C,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC;QACL,CAAC,CAAA;IACF,CAAC;IAAD,aAAC;AAAD,CAAC,AArCD,IAqCC;AAED,IAAM,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;AAC5B,MAAM,CAAC,IAAI,EAAE,CAAC","sourcesContent":["class Events {\r\n\tdeleteBtns = document.querySelectorAll('.event-delete-btn');\r\n\tinit = ()=>{\r\n\t\tthis.onDeleteClick();\r\n\t}\r\n\tonDeleteClick = (): void=>{\r\n\tthis.deleteBtns && this.deleteBtns.forEach((deleteBtn)=>{\r\n\t\t\tdeleteBtn.addEventListener('click', (e)=>{\r\n\t\t\t\tthis.deleteEventRequest(deleteBtn.getAttribute('data-id'));\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tshowModal = (success: boolean, msg: string): void =>{\r\n\t\tconst addModalBtn = document.createElement('button');\r\n\t\taddModalBtn.setAttribute('type', 'button');\r\n\t\taddModalBtn.setAttribute('data-bs-toggle', 'modal');\r\n\t\taddModalBtn.setAttribute('data-bs-target', '#events-modal');\r\n\t\tdocument.body.appendChild(addModalBtn);\r\n\t\tdocument.querySelector('#events-modal-title').innerHTML = success? 'Success': 'Failure';\r\n\t\tdocument.querySelector('#events-modal-body').innerHTML = msg;\r\n\t\taddModalBtn.click();\r\n\t\tdocument.body.removeChild(addModalBtn);\r\n\t}\r\n\r\n\tdeleteEventRequest = (id: string): void =>{\r\n\t\t$.ajax(`/api/event/delete/${id}`, {\r\n\t\t\tmethod: 'delete'\r\n\t\t})\r\n\t\t .done(response=>{\r\n\t\t \tif(response.statusCode === 200){\r\n\t\t \t\tthis.showModal(true, response.data.message);\r\n\t\t \t}\r\n\t\t }).fail(err=>{\r\n\t \t\tthis.showModal(false, 'Something went wrong');\r\n\t\t \tconsole.log(err);\r\n\t\t });\r\n\t}\r\n}\r\n\r\nconst events = new Events();\r\nevents.init();"]}
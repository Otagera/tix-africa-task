{"version":3,"file":"use.js","sourceRoot":"","sources":["../../../src/controllers/decorators/use.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,4BAA0B;AAE1B,+CAA8C;AAE9C,SAAgB,GAAG,CAAC,UAA0B;IAC7C,OAAO,UAAS,MAAW,EAAE,GAAW,EAAE,IAAwB;QACjE,IAAM,WAAW,GAAG,OAAO,CAAC,WAAW,CACtC,2BAAY,CAAC,UAAU,EACvB,MAAM,EACN,GAAG,CACH,IAAI,EAAE,CAAC;QAER,OAAO,CAAC,cAAc,CACrB,2BAAY,CAAC,UAAU,yCACnB,WAAW,KAAE,UAAU,IAC3B,MAAM,EACN,GAAG,CACH,CAAC;IACH,CAAC,CAAA;AACF,CAAC;AAfD,kBAeC","sourcesContent":["import 'reflect-metadata';\r\nimport { RequestHandler } from 'express';\r\nimport { MetadataKeys } from './MetadataKeys';\r\n\r\nexport function use(middleware: RequestHandler) {\r\n\treturn function(target: any, key: string, desc: PropertyDescriptor) {\r\n\t\tconst middlewares = Reflect.getMetadata(\r\n\t\t\tMetadataKeys.middleware,\r\n\t\t\ttarget,\r\n\t\t\tkey\r\n\t\t) || [];\r\n\r\n\t\tReflect.defineMetadata(\r\n\t\t\tMetadataKeys.middleware,\r\n\t\t\t[...middlewares, middleware],\r\n\t\t\ttarget,\r\n\t\t\tkey\r\n\t\t);\r\n\t}\r\n}"]}